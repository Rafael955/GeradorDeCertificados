<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="card shadow" style="width: 24rem;">
    <div class="card-body">
      <img src="navbar/logo.svg" alt="logo" class="d-block mx-auto mb-3">
      <h4 class="card-title text-center mb-4">Cadastro de Usuário</h4>
        
      @if(mensagem_erro) {
        <div class="text-danger text-center">
          <strong>{{mensagem_erro}}</strong>
        </div>
      }
      @else if(mensagem_sucesso) {
        <div class="text-success text-center">
          <strong>{{mensagem_sucesso}}</strong>
        </div>
      }

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="mb-3">
        <div class="mb-3">
          <label for="nomeUsuario" class="form-label">Username</label>
          <input type="nomeUsuario" formControlName="nomeUsuario" class="form-control" id="nomeUsuario" placeholder="Digite seu username" onfocus="onFocus()" required>
          @if(form.get('nomeUsuario')?.touched && form.get('nomeUsuario')?.invalid) {
            <div class="text-danger d-flex align-items-center">
              @if(form.get('nomeUsuario')?.errors?.['required']) {
                <i class="ph ph-warning-octagon"></i>
                <p class="mb-0"> O username do usuário deve ser informado.</p>
              }
              @else if(form.get('nomeusuario')?.errors?.['maxlength']) {
                <i class="ph ph-warning-octagon"></i>
                <p class="mb-0"> O username do usuário deve ter no máximo 50 caracteres.</p>
              }
              @else if(form.get('nomeUsuario')?.errors?.['minlength']) {
                <i class="ph ph-warning-octagon"></i>
                <p class="mb-0"> O username do usuário deve ter no mínimo 3 caracteres.</p>
              }
            </div>
          }
        </div>
          <label for="email" class="form-label">Email</label>
          <input type="email" formControlName="email" class="form-control" id="email" placeholder="Digite seu email" onfocus="onFocus()" required>
           @if(form.get('email')?.touched && form.get('email')?.invalid) 
           {
             <div class="text-danger d-flex align-items-center">
               @if(form.get('email')?.errors?.['required']) {
                 <i class="ph ph-warning-octagon"></i>
                 <p class="mb-0"> O email do usuário deve ser informado.</p>
               }
               @else if(form.get('email')?.errors?.['email']) {
                 <i class="ph ph-warning-octagon"></i>
                 <p class="mb-0"> O email do usuário deve ser válido.</p>
               }
               @else if(form.get('email')?.errors?.['maxlength']) {
                 <i class="ph ph-warning-octagon"></i>
                 <p class="mb-0"> O email do usuário deve ter no máximo 100 caracteres.</p>
               }
             </div>
           }
        </div>
        <div class="mb-3">
          <label for="senha" class="form-label">Senha</label>
          <input type="password" formControlName="senha" class="form-control" id="senha" placeholder="Digite sua Senha" onfocus="onFocus()" required>
           @if(form.get('senha')?.touched && form.get('senha')?.invalid)  {
             <div class="text-danger d-flex align-items-center">
               @if(form.get('senha')?.errors?.['required']) {
                 <i class="ph ph-warning-octagon"></i>
                 <p class="mb-0"> A senha do usuário deve ser informada.</p>
               }
               @else if(form.get('senha')?.errors?.['maxlength']) {
                 <i class="ph ph-warning-octagon"></i>
                 <p class="mb-0"> A senha do usuário deve ter no máximo 20 caracteres.</p>
               }
               @else if(form.get('senha')?.errors?.['pattern']) {
                 <i class="ph ph-warning-octagon"></i>
                 <p class="mb-0"> A senha deve ter pelo menos 1 letra minúscula, 1 letra maiúscula, 1 número, 1 símbolo e no mínimo 8 caracteres.</p>
               }
             </div>
           }
        </div>
        <div class="mb-3">
          <label for="confirmaSenha" class="form-label">Confirmar Senha</label>
          <input type="password" formControlName="confirmaSenha" class="form-control" id="confirmaSenha" placeholder="Confirme a senha" onfocus="onFocus()" required>
          @if(form.get('confirmaSenha')?.touched && form.get('confirmaSenha')?.invalid) {
              <div class="text-danger d-flex align-items-center">
                @if(form.get('confirmaSenha')?.errors?.['required']) {
                  <i class="ph ph-warning-octagon"></i>
                  <p class="mb-0"> Por favor, confirme a sua senha!</p>
                }
                @if(form.get('confirmaSenha')?.errors?.['matchPassword']){
                    <i class="ph ph-warning-octagon"></i>
                    <p class="mb-0"> As senhas não conferem, por favor verifique!</p>
                }
              </div>
          }
        </div>
        <app-primary-button textoBotao="Realizar Cadastro" class="submit" [disabled]="form.invalid"></app-primary-button>
      </form>
      <div class="mt-3 text-center">
        Já possui uma conta? Faça o <a routerLink="/login-usuario" class="link-primary">login</a> aqui!
      </div>
    </div>
  </div>
</div>